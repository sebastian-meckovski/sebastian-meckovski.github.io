@import "tailwindcss";

/* Flex wrap header only below 280px */
@media (max-width: 280px) {
  header {
    flex-wrap: wrap;
  }
}

/* Default (light) theme */

:root {
  --background: #ffffff;
  --foreground: #171717;
  --header-bg: #b6d0f7;
  --accent: #00bcd4; /* blue (default) */
}

html[data-color-scheme="blue"] {
  --accent: #00bcd4;
}
html[data-color-scheme="red"] {
  --accent: #ff3b30;
}
html[data-color-scheme="green"] {
  --accent: #2ecc40;
}

/* Dark theme via attribute */
html[data-theme="dark"] {
  --background: #0a0a0a;
  --foreground: #ededed;
  --header-bg: #003457;
}

/* Light theme via attribute */
html[data-theme="light"] {
  --background: #ffffff;
  --foreground: #171717;
  --header-bg: #b6d0f7;
}

/* Fallback to prefers-color-scheme if no attribute is set */
@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
    --header-bg: #003457;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-orbitron), Arial, Helvetica, sans-serif;
  transition: background 0.3s, color 0.3s;
}

header nav a,
header span,
header button {
  transition: background 0.3s, color 0.3s, border-color 0.3s;
}

/* --- Simple page fade/slide-in animation (SSR friendly) --- */
@keyframes popup-fade-in {
  from {
    opacity: 0;
    transform: translateY(2rem);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes popup-fade-out {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(2rem);
  }
}

.popup-fade-in {
  animation: popup-fade-in 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  opacity: 1;
  transform: translateY(0);
}

.popup-fade-out {
  animation: popup-fade-out 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  opacity: 0;
  transform: translateY(2rem);
}

.popup-did-fade-out {
  display: none;
}

main > * {
  animation: popup-fade-in 0.35s ease-out;
}

/* --- Burger button bar transitions --- */
.burger-bar {
  transition: transform 0.3s, opacity 0.2s, background 0.3s, top 0.3s,
    bottom 0.3s;
}

/* --- Blinking caret animation --- */
@keyframes caret-blink {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0;
  }
}

.caret-blink {
  animation: caret-blink 1s steps(1) infinite;
}
